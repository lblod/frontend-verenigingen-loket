<AuDataTable
  @content={{this.model.members}}
  @isLoading={{this.showTableLoader}}
  as |t|
>
  <t.menu>
    <section
      class="au-u-flex au-u-flex--between au-o-box au-o-flow au-o-flow--large"
    >
      <div>
        <AuHeading @level="1" @skin="1">Vertegenwoordigers</AuHeading>
        <AuHeading
          @level="3"
          @skin="3"
        >{{this.model.association.name}}</AuHeading>
      </div>
      <div
        class="au-u-flex au-u-flex--end au-u-flex--column au-u-flex--vertical-end"
      >
        <AuPill @skin="default" @icon="clock-rewind">Laatst gewijzigd op
          22-02-2022</AuPill>
        <AuHelpText>
          Zie je een fout in de data?
          <br />
          <AuLinkExternal
            href="
            mailto:{{this.contactEmail}}
            ?subject={{this.subject}}
            &body={{this.body}}"
          >
            Meld het bij de vereniging!
          </AuLinkExternal>
        </AuHelpText>
      </div>
    </section>

  </t.menu>
  <t.content class="au-c-data-table__table--small" as |c|>
    <c.header>
      <th width="80px" class="data-table__header-title"></th>
      <AuDataTableThSortable
        @field="person.givenName"
        @currentSorting={{this.sort}}
        @label="Voornaam"
        @class="data-table__header-title"
      />
      <AuDataTableThSortable
        @field="person.familyName"
        @currentSorting={{this.sort}}
        @label="Achternaam"
        @class="data-table__header-title"
      />
      <AuDataTableThSortable
        @field="person.email"
        @currentSorting={{this.sort}}
        @label="Email"
        @class="data-table__header-title"
      />
      <AuDataTableThSortable
        @field="person.phoneNumber"
        @currentSorting={{this.sort}}
        @label="Telefoonnummer"
        @class="data-table__header-title"
      />
      <AuDataTableThSortable
        @field="person.socialMedia"
        @currentSorting={{this.sort}}
        @label="Sociale media"
        @class="data-table__header-title"
      />
    </c.header>
    {{#if this.hasErrored}}
      <TableMessage::Error />
    {{else}}
      <c.body as |member|>
        <td>
          {{#if member.person.isPrimary}}
            <AuBadge @icon="vote-star-filled" />
          {{/if}}
        </td>
        <td>
          {{member.person.givenName}}
        </td>
        <td>
          {{member.person.familyName}}
        </td>
        <td>
          {{member.person.email}}
        </td>
        <td>
          {{member.person.phoneNumber}}
        </td>
        <td>
          {{member.person.socialMedia}}
        </td>
      </c.body>
    {{/if}}
  </t.content>
</AuDataTable>